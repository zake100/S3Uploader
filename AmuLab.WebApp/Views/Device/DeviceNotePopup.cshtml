@model AntData.TKV.Business.Models.DeviceNoteModel
@{
    Layout = null;
}
<div class="modal fade" id="modal-devicenote">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">
                    Thêm mới ghi chú cho thiết bị
                </h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="box-body">
                        <div class="form-group">
                            <label id="noteTitle"></label>
                        </div>
                        <div class="form-group">
                            <label>Tình trạng thiết bị</label>
                            <select class="form-control select2" id="optionDeviceStatus" style="width: 100%;"></select>
                            @Html.TextBoxFor(m => m.DeviceStatus, new { @type = "hidden", @id = "popupDeviceStatus" })
                            @Html.TextBoxFor(m => m.DeviceStatusCaption, new { @type = "hidden", @id = "popupDeviceStatusName" })
                        </div>
                        <div class="form-group">
                            <label>Ghi chú</label>
                            @Html.TextAreaFor(m => m.Note, new { @class = "form-control", @row = "4", @id = "deviceNote" })
                            @Html.TextBoxFor(m => m.DeviceId, new { @type = "hidden", @id = "popupDeviceId" })
                            @*<textarea class="form-control" rows="3" placeholder="Enter ..." disabled=""></textarea>*@
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 text-center">
                        <span id="noteMessage" class=""></span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Đóng</button>
                <a class="btn btn-info pull-left hide" id="aNoteList">Danh sách</a>
                <button type="button" class="btn btn-primary">Thêm ghi chú</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

@*<script>
    $.ajax({
        type: "GET",
        url: "/device/devicestatus",
        dataType: "json",
        success: function (response) {
            $("#optionDeviceStatus").select2({
                closeOnSelect: true,
                data: response.Data,
                placeholder: 'Chọn tình trạng thiết bị',
            })
             .on("change", function (e) {
                 var deviceStatusData = $("#optionDeviceStatus").select2('data');
                 $("#popupDeviceStatus").val(deviceStatusData[0].id);
                 $("#popupDeviceStatusName").val(deviceStatusData[0].text);
                 //$("#popupDeviceStatus").val($("#optionDeviceStatus").val());
             });
        }
    })

    //function OnSuccess(response) {
    //    $("#noteMessage").text(response.Message).addClass("text-info");
    //    $("#aNoteList").attr("href", "" + $("#popupDeviceId").val()).removeClass("hide");
    //};
    //function OnFailure(response) {
    //    $("#noteMessage").text(response.Message).addClass("text-danger");
    //}

    $("#aNoteList").addClass("hide");
</script>*@